https://docs.microsoft.com/en-us/azure/aks/jenkins-continuous-deployment?toc=%2Fen-us%2Fazure%2Fjenkins%2Ftoc.json&bc=%2Fen-us%2Fazure%2Fbread%2Ftoc.json

1. sh jenkins-tutorial/deploy-jenkins-vm.sh

2. copy whole result
Open a browser to http://40.68.74.45:8080
Enter the following to Unlock Jenkins:
2bcce3ea299a4fdc865846410e831dd7

3. 
az ad sp create-for-rbac --skip-assignment
{
  "appId": "12cdf8c2-4610-4aa6-9c82-9097d9afc40c",
  "displayName": "azure-cli-2018-11-22-01-47-52",
  "name": "http://azure-cli-2018-11-22-01-47-52",
  "password": "f673b261-829d-49f9-98a9-b2055b52d51d",
  "tenant": "91830b70-5976-45a0-958d-5c6c42a62d1e"
}

4. az acr show --resource-group VotingResourceGroup --name VotingAppLiuziyuan
{
  "adminUserEnabled": false,
  "creationDate": "2018-11-13T08:16:41.667663+00:00",
  "id": "/subscriptions/9f52089d-b469-4d68-a81f-9ee4bc327d02/resourceGroups/VotingResourceGroup/providers/Microsoft.ContainerRegistry/registries/VotingAppLiuziyuan",
  "location": "eastus",
  "loginServer": "votingappliuziyuan.azurecr.io",
  "name": "VotingAppLiuziyuan",
  "provisioningState": "Succeeded",
  "resourceGroup": "VotingResourceGroup",
  "sku": {
    "name": "Basic",
    "tier": "Basic"
  },
  "status": null,
  "storageAccount": null,
  "tags": {},
  

5. 
az role assignment create --assignee 12cdf8c2-4610-4aa6-9c82-9097d9afc40c --role Contributor --scope /subscriptions/9f52089d-b469-4d68-a81f-9ee4bc327d02/resourceGroups/VotingResourceGroup/providers/Microsoft.ContainerRegistry/registries/VotingAppLiuziyuan

{
  "canDelegate": null,
  "id": "/subscriptions/9f52089d-b469-4d68-a81f-9ee4bc327d02/resourceGroups/VotingResourceGroup/providers/Microsoft.ContainerRegistry/registries/VotingAppLiuziyuan/providers/Microsoft.Authorization/roleAssignments/79bf8437-9889-42b5-b3f0-c60c43403e18",
  "name": "79bf8437-9889-42b5-b3f0-c60c43403e18",
  "principalId": "9f7a48df-eedd-46be-ae1c-763851848bbe",
  "resourceGroup": "VotingResourceGroup",
  "roleDefinitionId": "/subscriptions/9f52089d-b469-4d68-a81f-9ee4bc327d02/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
  "scope": "/subscriptions/9f52089d-b469-4d68-a81f-9ee4bc327d02/resourceGroups/VotingResourceGroup/providers/Microsoft.ContainerRegistry/registries/VotingAppLiuziyuan",
  "type": "Microsoft.Authorization/roleAssignments"
}


6. git jenkins token
bac7e449e9466477801caee22e769fce2cc0665d
